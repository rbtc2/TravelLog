<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚ ì§œ ìˆ˜ì • UX í…ŒìŠ¤íŠ¸</title>
    <link rel="stylesheet" href="styles/main.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .test-title {
            color: #1a202c;
            margin-bottom: 24px;
            font-size: 24px;
            font-weight: 600;
        }
        
        .test-scenario {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .scenario-title {
            color: #2d3748;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .scenario-description {
            color: #4a5568;
            font-size: 14px;
            margin-bottom: 12px;
        }
        
        .test-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        
        .test-button:hover {
            background: #5a67d8;
        }
        
        .test-results {
            margin-top: 24px;
            padding: 16px;
            background: #edf2f7;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .result-item {
            margin-bottom: 8px;
            padding: 8px;
            background: white;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .result-success {
            color: #38a169;
        }
        
        .result-error {
            color: #e53e3e;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 class="test-title">ğŸ¯ ë‚ ì§œ ìˆ˜ì • UX ê°œì„  í…ŒìŠ¤íŠ¸</h1>
        
        <div class="test-scenario">
            <div class="scenario-title">ğŸ“‹ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 1: ì‹œì‘ì¼ ë¨¼ì € ë³€ê²½</div>
            <div class="scenario-description">
                ì‹œì‘ì¼ì„ ì¢…ë£Œì¼ë³´ë‹¤ ëŠ¦ì€ ë‚ ì§œë¡œ ë¨¼ì € ë³€ê²½í•´ë³´ì„¸ìš”. 
                ì´ì œ ì œì•½ ì—†ì´ ììœ ë¡­ê²Œ ì…ë ¥í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
            </div>
            <button class="test-button" onclick="testScenario1()">í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
        </div>
        
        <div class="test-scenario">
            <div class="scenario-title">ğŸ“‹ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 2: ì¢…ë£Œì¼ ë¨¼ì € ë³€ê²½</div>
            <div class="scenario-description">
                ì¢…ë£Œì¼ì„ ì‹œì‘ì¼ë³´ë‹¤ ì´ë¥¸ ë‚ ì§œë¡œ ë¨¼ì € ë³€ê²½í•´ë³´ì„¸ìš”.
                í¬ì»¤ìŠ¤ ì•„ì›ƒ ì‹œ ì§€ëŠ¥ì  ì¡°ì • ì œì•ˆì´ ë‚˜íƒ€ë‚˜ì•¼ í•©ë‹ˆë‹¤.
            </div>
            <button class="test-button" onclick="testScenario2()">í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
        </div>
        
        <div class="test-scenario">
            <div class="scenario-title">ğŸ“‹ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 3: ë¹ ë¥¸ ì—°ì† ë³€ê²½</div>
            <div class="scenario-description">
                ë‘ ë‚ ì§œë¥¼ ë¹ ë¥´ê²Œ ì—°ì†ìœ¼ë¡œ ë³€ê²½í•´ë³´ì„¸ìš”.
                ì…ë ¥ ì¤‘ì—ëŠ” ê²½ê³ ë§Œ í‘œì‹œë˜ê³  ì…ë ¥ì„ ë§‰ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.
            </div>
            <button class="test-button" onclick="testScenario3()">í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
        </div>
        
        <div class="test-scenario">
            <div class="scenario-title">ğŸ“‹ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 4: ESC/ì·¨ì†Œ ë³µì›</div>
            <div class="scenario-description">
                ë‚ ì§œë¥¼ ë³€ê²½í•œ í›„ ESC í‚¤ë‚˜ ì·¨ì†Œ ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”.
                ì›ë˜ ê°’ìœ¼ë¡œ ë³µì›ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
            </div>
            <button class="test-button" onclick="testScenario4()">í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
        </div>
        
        <div class="test-results" id="test-results" style="display: none;">
            <h3>í…ŒìŠ¤íŠ¸ ê²°ê³¼</h3>
            <div id="results-list"></div>
        </div>
    </div>

    <script type="module">
        import LogEditModule from './js/modules/log-edit.js';
        
        // í…ŒìŠ¤íŠ¸ìš© ìƒ˜í”Œ ë°ì´í„°
        const sampleLog = {
            id: 'test-1',
            country: 'ëŒ€í•œë¯¼êµ­',
            city: 'ì„œìš¸',
            startDate: '2024-01-15',
            endDate: '2024-01-20',
            purpose: 'tourism',
            rating: '4',
            travelStyle: 'solo',
            memo: 'í…ŒìŠ¤íŠ¸ìš© ì¼ì§€ì…ë‹ˆë‹¤.',
            createdAt: new Date().toISOString(),
            updatedAt: new Date().toISOString()
        };
        
        let logEditModule = new LogEditModule();
        let testResults = [];
        
        function addResult(scenario, success, message) {
            testResults.push({ scenario, success, message });
            updateResultsDisplay();
        }
        
        function updateResultsDisplay() {
            const resultsDiv = document.getElementById('test-results');
            const resultsList = document.getElementById('results-list');
            
            resultsDiv.style.display = 'block';
            resultsList.innerHTML = testResults.map(result => `
                <div class="result-item ${result.success ? 'result-success' : 'result-error'}">
                    <strong>${result.scenario}:</strong> ${result.message}
                </div>
            `).join('');
        }
        
        // í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 1: ì‹œì‘ì¼ ë¨¼ì € ë³€ê²½
        window.testScenario1 = function() {
            logEditModule.showEditModal(sampleLog, (logId, updatedData) => {
                addResult('ì‹œë‚˜ë¦¬ì˜¤ 1', true, 'ì‹œì‘ì¼ì„ ë¨¼ì € ë³€ê²½í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.');
            });
            
            // ëª¨ë‹¬ì´ ë¡œë“œëœ í›„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
            setTimeout(() => {
                const startDateInput = document.querySelector('#edit-start-date');
                if (startDateInput) {
                    startDateInput.value = '2024-01-25'; // ì¢…ë£Œì¼ë³´ë‹¤ ëŠ¦ì€ ë‚ ì§œ
                    startDateInput.dispatchEvent(new Event('input'));
                    addResult('ì‹œë‚˜ë¦¬ì˜¤ 1', true, 'ì…ë ¥ ì¤‘ ì œì•½ì´ ì—†ì—ˆìŠµë‹ˆë‹¤.');
                }
            }, 500);
        };
        
        // í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 2: ì¢…ë£Œì¼ ë¨¼ì € ë³€ê²½
        window.testScenario2 = function() {
            logEditModule.showEditModal(sampleLog, (logId, updatedData) => {
                addResult('ì‹œë‚˜ë¦¬ì˜¤ 2', true, 'ì¢…ë£Œì¼ì„ ë¨¼ì € ë³€ê²½í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.');
            });
            
            setTimeout(() => {
                const endDateInput = document.querySelector('#edit-end-date');
                if (endDateInput) {
                    endDateInput.value = '2024-01-10'; // ì‹œì‘ì¼ë³´ë‹¤ ì´ë¥¸ ë‚ ì§œ
                    endDateInput.dispatchEvent(new Event('input'));
                    endDateInput.dispatchEvent(new Event('blur'));
                    addResult('ì‹œë‚˜ë¦¬ì˜¤ 2', true, 'í¬ì»¤ìŠ¤ ì•„ì›ƒ ì‹œ ì¡°ì • ì œì•ˆì´ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.');
                }
            }, 500);
        };
        
        // í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 3: ë¹ ë¥¸ ì—°ì† ë³€ê²½
        window.testScenario3 = function() {
            logEditModule.showEditModal(sampleLog, (logId, updatedData) => {
                addResult('ì‹œë‚˜ë¦¬ì˜¤ 3', true, 'ë¹ ë¥¸ ì—°ì† ë³€ê²½ì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.');
            });
            
            setTimeout(() => {
                const startDateInput = document.querySelector('#edit-start-date');
                const endDateInput = document.querySelector('#edit-end-date');
                
                if (startDateInput && endDateInput) {
                    // ë¹ ë¥´ê²Œ ì—°ì† ë³€ê²½
                    startDateInput.value = '2024-01-25';
                    startDateInput.dispatchEvent(new Event('input'));
                    
                    endDateInput.value = '2024-01-10';
                    endDateInput.dispatchEvent(new Event('input'));
                    
                    addResult('ì‹œë‚˜ë¦¬ì˜¤ 3', true, 'ì…ë ¥ ì¤‘ì—ëŠ” ê²½ê³ ë§Œ í‘œì‹œë˜ì—ˆìŠµë‹ˆë‹¤.');
                }
            }, 500);
        };
        
        // í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 4: ESC/ì·¨ì†Œ ë³µì›
        window.testScenario4 = function() {
            logEditModule.showEditModal(sampleLog, (logId, updatedData) => {
                addResult('ì‹œë‚˜ë¦¬ì˜¤ 4', false, 'ì·¨ì†Œ ë²„íŠ¼ì´ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
            });
            
            setTimeout(() => {
                const startDateInput = document.querySelector('#edit-start-date');
                const cancelBtn = document.querySelector('#cancel-edit');
                
                if (startDateInput && cancelBtn) {
                    const originalValue = startDateInput.value;
                    startDateInput.value = '2024-01-25';
                    
                    // ESC í‚¤ í…ŒìŠ¤íŠ¸
                    document.dispatchEvent(new KeyboardEvent('keydown', { key: 'Escape' }));
                    addResult('ì‹œë‚˜ë¦¬ì˜¤ 4', true, 'ESC í‚¤ë¡œ ëª¨ë‹¬ì´ ë‹«í˜”ìŠµë‹ˆë‹¤.');
                }
            }, 500);
        };
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì•ˆë‚´ ë©”ì‹œì§€
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ¯ ë‚ ì§œ ìˆ˜ì • UX í…ŒìŠ¤íŠ¸ í˜ì´ì§€ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');
            console.log('ê° ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í´ë¦­í•˜ì—¬ ê°œì„ ëœ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”.');
        });
    </script>
</body>
</html>
